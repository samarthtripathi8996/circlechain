{"openapi":"3.1.0","info":{"title":"Marketplace API","description":"Circular Economy Marketplace Backend","version":"1.0.0"},"paths":{"/auth/signup":{"post":{"tags":["Authentication"],"summary":"Signup","operationId":"signup_auth_signup_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignupRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","operationId":"login_auth_login_post","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_login_auth_login_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User Info","operationId":"get_current_user_info_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/producer/products":{"get":{"tags":["Producer"],"summary":"Get My Products","operationId":"get_my_products_producer_products_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response Get My Products Producer Products Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Producer"],"summary":"Create Product","operationId":"create_product_producer_products_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/producer/products/{product_id}":{"put":{"tags":["Producer"],"summary":"Update Product","operationId":"update_product_producer_products__product_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Producer"],"summary":"Delete Product","operationId":"delete_product_producer_products__product_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/producer/raw-materials":{"get":{"tags":["Producer"],"summary":"Get Available Materials","description":"Get all available raw materials for purchase","operationId":"get_available_materials_producer_raw_materials_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RawMaterialResponse"},"type":"array","title":"Response Get Available Materials Producer Raw Materials Get"}}}}}}},"/producer/raw-materials/purchase":{"post":{"tags":["Producer"],"summary":"Purchase Raw Material","operationId":"purchase_raw_material_producer_raw_materials_purchase_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialPurchaseCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MaterialPurchaseResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/consumer/products":{"get":{"tags":["Consumer"],"summary":"Browse Products","description":"Browse all available products","operationId":"browse_products_consumer_products_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductResponse"},"type":"array","title":"Response Browse Products Consumer Products Get"}}}}}}},"/consumer/orders":{"get":{"tags":["Consumer"],"summary":"Get My Orders","operationId":"get_my_orders_consumer_orders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/OrderResponse"},"type":"array","title":"Response Get My Orders Consumer Orders Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Consumer"],"summary":"Create Order","operationId":"create_order_consumer_orders_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/consumer/recycle-requests":{"get":{"tags":["Consumer"],"summary":"Get My Recycle Requests","operationId":"get_my_recycle_requests_consumer_recycle_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RecycleRequestResponse"},"type":"array","title":"Response Get My Recycle Requests Consumer Recycle Requests Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Consumer"],"summary":"Submit Recycle Request","operationId":"submit_recycle_request_consumer_recycle_requests_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecycleRequestCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecycleRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/recycler/recycle-requests":{"get":{"tags":["Recycler"],"summary":"Get Available Recycle Requests","description":"Get all available recycle requests","operationId":"get_available_recycle_requests_recycler_recycle_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RecycleRequestResponse"},"type":"array","title":"Response Get Available Recycle Requests Recycler Recycle Requests Get"}}}}}}},"/recycler/recycle-requests/{request_id}/accept":{"put":{"tags":["Recycler"],"summary":"Accept Recycle Request","operationId":"accept_recycle_request_recycler_recycle_requests__request_id__accept_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"integer","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecycleRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recycler/recycle-requests/{request_id}/complete":{"put":{"tags":["Recycler"],"summary":"Complete Recycle Request","operationId":"complete_recycle_request_recycler_recycle_requests__request_id__complete_put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"integer","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecycleRequestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/recycler/my-requests":{"get":{"tags":["Recycler"],"summary":"Get My Recycle Requests","operationId":"get_my_recycle_requests_recycler_my_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RecycleRequestResponse"},"type":"array","title":"Response Get My Recycle Requests Recycler My Requests Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/recycler/raw-materials":{"get":{"tags":["Recycler"],"summary":"Get My Raw Materials","operationId":"get_my_raw_materials_recycler_raw_materials_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RawMaterialResponse"},"type":"array","title":"Response Get My Raw Materials Recycler Raw Materials Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Recycler"],"summary":"Create Raw Material","operationId":"create_raw_material_recycler_raw_materials_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RawMaterialCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RawMaterialResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/admin/impact/summary":{"get":{"tags":["Admin"],"summary":"Get Impact Summary","operationId":"get_impact_summary_admin_impact_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_login_auth_login_post":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_login_auth_login_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MaterialPurchaseCreate":{"properties":{"material_id":{"type":"integer","title":"Material Id"},"quantity":{"type":"number","title":"Quantity"}},"type":"object","required":["material_id","quantity"],"title":"MaterialPurchaseCreate"},"MaterialPurchaseResponse":{"properties":{"id":{"type":"integer","title":"Id"},"quantity":{"type":"number","title":"Quantity"},"total_price":{"type":"number","title":"Total Price"},"producer_id":{"type":"integer","title":"Producer Id"},"material_id":{"type":"integer","title":"Material Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"material":{"$ref":"#/components/schemas/RawMaterialResponse"}},"type":"object","required":["id","quantity","total_price","producer_id","material_id","created_at","material"],"title":"MaterialPurchaseResponse"},"MaterialStatus":{"type":"string","enum":["available","reserved","sold"],"title":"MaterialStatus"},"MaterialType":{"type":"string","enum":["plastic","metal","fabric","glass","paper","composite"],"title":"MaterialType"},"OrderCreate":{"properties":{"product_id":{"type":"integer","title":"Product Id"},"quantity":{"type":"integer","title":"Quantity","default":1}},"type":"object","required":["product_id"],"title":"OrderCreate"},"OrderResponse":{"properties":{"id":{"type":"integer","title":"Id"},"quantity":{"type":"integer","title":"Quantity"},"total_price":{"type":"number","title":"Total Price"},"status":{"$ref":"#/components/schemas/OrderStatus"},"consumer_id":{"type":"integer","title":"Consumer Id"},"product_id":{"type":"integer","title":"Product Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"product":{"$ref":"#/components/schemas/ProductResponse"}},"type":"object","required":["id","quantity","total_price","status","consumer_id","product_id","created_at","product"],"title":"OrderResponse"},"OrderStatus":{"type":"string","enum":["pending","confirmed","shipped","delivered","cancelled"],"title":"OrderStatus"},"ProductCategory":{"type":"string","enum":["electronics","textiles","packaging","furniture","other"],"title":"ProductCategory"},"ProductCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"$ref":"#/components/schemas/ProductCategory"},"price":{"type":"number","title":"Price"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"}},"type":"object","required":["name","category","price"],"title":"ProductCreate"},"ProductResponse":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"$ref":"#/components/schemas/ProductCategory"},"price":{"type":"number","title":"Price"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"},"id":{"type":"integer","title":"Id"},"status":{"$ref":"#/components/schemas/ProductStatus"},"impact_placeholder":{"type":"number","title":"Impact Placeholder"},"producer_id":{"type":"integer","title":"Producer Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["name","category","price","id","status","impact_placeholder","producer_id","created_at"],"title":"ProductResponse"},"ProductStatus":{"type":"string","enum":["available","sold","out_of_stock"],"title":"ProductStatus"},"ProductUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"},"status":{"anyOf":[{"$ref":"#/components/schemas/ProductStatus"},{"type":"null"}]}},"type":"object","title":"ProductUpdate"},"RawMaterialCreate":{"properties":{"name":{"type":"string","title":"Name"},"material_type":{"$ref":"#/components/schemas/MaterialType"},"quantity":{"type":"number","title":"Quantity"},"price_per_kg":{"type":"number","title":"Price Per Kg"}},"type":"object","required":["name","material_type","quantity","price_per_kg"],"title":"RawMaterialCreate"},"RawMaterialResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"material_type":{"$ref":"#/components/schemas/MaterialType"},"quantity":{"type":"number","title":"Quantity"},"price_per_kg":{"type":"number","title":"Price Per Kg"},"status":{"$ref":"#/components/schemas/MaterialStatus"},"recycler_id":{"type":"integer","title":"Recycler Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","material_type","quantity","price_per_kg","status","recycler_id","created_at"],"title":"RawMaterialResponse"},"RecycleRequestCreate":{"properties":{"item_description":{"type":"string","title":"Item Description"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"},"category":{"$ref":"#/components/schemas/ProductCategory"}},"type":"object","required":["item_description","category"],"title":"RecycleRequestCreate"},"RecycleRequestResponse":{"properties":{"id":{"type":"integer","title":"Id"},"item_description":{"type":"string","title":"Item Description"},"weight":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Weight"},"category":{"$ref":"#/components/schemas/ProductCategory"},"status":{"$ref":"#/components/schemas/RecycleStatus"},"consumer_id":{"type":"integer","title":"Consumer Id"},"recycler_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Recycler Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"processed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Processed At"}},"type":"object","required":["id","item_description","weight","category","status","consumer_id","recycler_id","created_at","processed_at"],"title":"RecycleRequestResponse"},"RecycleStatus":{"type":"string","enum":["submitted","accepted","in_process","completed","rejected"],"title":"RecycleStatus"},"SignupRequest":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"role":{"$ref":"#/components/schemas/UserRole"}},"type":"object","required":["email","password","role"],"title":"SignupRequest"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"Token"},"UserResponse":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"role":{"$ref":"#/components/schemas/UserRole"},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["email","role","id","created_at"],"title":"UserResponse"},"UserRole":{"type":"string","enum":["producer","consumer","recycler","admin"],"title":"UserRole"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"auth/login"}}}}}}